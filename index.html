
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>joelparsons.net</title>
  <meta name="author" content="Joel Parsons">

  
  <meta name="description" content="So I was looking into the &ldquo;Boggle Board&rdquo; question which is posted on several programming interview sites. The question is pretty straight &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://joelparsons.github.io">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="joelparsons.net" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">joelparsons.net</a></h1>
  
    <h2>iOS Developer Stuff</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:joelparsons.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/25/the-boggle-board/">The Boggle Board Question</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-25T14:12:00+01:00" pubdate data-updated="true">Jun 25<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So I was looking into the &ldquo;Boggle Board&rdquo; question which is posted on several programming interview sites. The question is pretty straight forward even if you dont know the game &ldquo;boggle&rdquo; which it is based on. You have a nxm matrix of letters and the aim of the game is to make words from those letters. From any arbitraty starting letter you are allowed to travel from letter to letter in any direction including diagonals with the restriction that you cant use the same letter twice.</p>

<p>The interview quetion usually asks candidates to to determine, given a 4x4 boggle board, whether a given word is in the board.</p>

<p>The problem seems deceptively simple but the requirement that you mustnt revisit a letter means that any kind of recursive solution is going to have to keep track of a whole bunch of state and get messy really quickly.</p>

<h2>Graph Search</h2>

<p>The simplicity of a graph search based solution becomes apparent if you solve the meaty part of the problem first.</p>

<p>To solve this problem with a graph search algorithm we need the letters in a graph. Lets create a node object that we can build a graph out of:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="k">@interface</span> <span class="nc">Node</span> : <span class="nc">NSObject</span>
</span><span class='line'><span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">strong</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span> <span class="n">letter</span><span class="p">;</span>
</span><span class='line'><span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">strong</span><span class="p">)</span> <span class="n">NSMutableSet</span> <span class="o">*</span> <span class="n">adjacentNodes</span><span class="p">;</span>
</span><span class='line'><span class="k">@end</span>
</span></code></pre></td></tr></table></div></figure>


<p>We would create a &lsquo;Node *&rsquo; for each letter in the boggle board and then link it to the nodes that letter is adjacent to. There is now no need to store the Nodes in an array matrix that represents the board or anything like that as all the information about the board we need is encapsulated in these two pieces of data. Now assuming we can get the board represented in a bunch of &lsquo;Node&rsquo; objects all in an &lsquo;NSSet&rsquo; the algorithm for searching through them is relatively simple.</p>

<p>We take each &lsquo;Node&rsquo; in turn and do a depth first search on its neighbours for a match for the next letter in the word we are checking for.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="kt">BOOL</span> <span class="nf">searchForWord</span><span class="p">((</span><span class="n">NSString</span> <span class="err">\</span><span class="o">*</span><span class="p">)</span><span class="n">word</span><span class="p">,</span> <span class="n">NSSet</span> <span class="o">*</span> <span class="n">nodeGraph</span><span class="p">){</span>
</span><span class='line'>    <span class="n">NSString</span> <span class="o">*</span> <span class="n">firstLetter</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSString</span> <span class="nl">stringWithFormat:</span><span class="s">@&quot;%c&quot;</span><span class="p">,[</span><span class="n">word</span> <span class="nl">characterAtIndex:</span><span class="mi">0</span><span class="p">]];</span>
</span><span class='line'>    <span class="k">for</span> <span class="p">(</span><span class="n">Node</span> <span class="o">*</span> <span class="n">node</span> <span class="k">in</span> <span class="n">nodeGraph</span><span class="p">){</span>
</span><span class='line'>        <span class="n">NSMutableSet</span> <span class="o">*</span> <span class="n">visitedNodes</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSMutableSet</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithCapacity:</span><span class="n">word</span><span class="p">.</span><span class="n">length</span><span class="p">];</span>
</span><span class='line'>        <span class="kt">BOOL</span> <span class="n">found</span> <span class="o">=</span> <span class="n">depthFirstSearch</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">word</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">visitedNodes</span><span class="p">);</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="n">found</span><span class="p">)</span> <span class="k">return</span> <span class="n">found</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="n">NO</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>For the &lsquo;depthFirstSearch&rsquo; function we need to do a few things.
1. Keep track of visited Nodes so we don&rsquo;t visit the same one twice
2. Keep track of depth so we know our position in the word
3. Recursively search through the adjacent nodes</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="kt">BOOL</span> <span class="nf">depthFirstSearch</span><span class="p">(</span><span class="n">Node</span> <span class="o">*</span> <span class="n">node</span><span class="p">,</span> <span class="n">NSString</span> <span class="o">*</span> <span class="n">word</span><span class="p">,</span> <span class="n">NSInteger</span> <span class="n">depth</span><span class="p">,</span> <span class="n">NSMutableSet</span> <span class="o">*</span> <span class="n">visitedNodes</span><span class="p">){</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">unichar</span> <span class="n">nodeLetter</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span><span class="p">.</span><span class="n">letter</span> <span class="nl">characterAtIndex:</span><span class="mi">0</span><span class="p">];</span>
</span><span class='line'>    <span class="n">unichar</span> <span class="n">wordLetter</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span> <span class="nl">characterAtIndex:</span><span class="n">depth</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="p">[</span><span class="n">visitedNodes</span> <span class="nl">addObject:</span><span class="n">node</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">nodeLetter</span> <span class="o">==</span> <span class="n">wordLetter</span><span class="p">){</span>
</span><span class='line'>        <span class="c1">//if we have a match and have letters left keep searching</span>
</span><span class='line'>        <span class="c1">//else we are at the end of the word so return YES</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="n">depth</span> <span class="o">&lt;</span> <span class="n">word</span><span class="p">.</span><span class="n">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">for</span> <span class="p">(</span><span class="n">Node</span> <span class="o">*</span> <span class="n">adjacentNode</span> <span class="k">in</span> <span class="n">node</span><span class="p">.</span><span class="n">adjacentNodes</span><span class="p">){</span>
</span><span class='line'>                <span class="k">if</span> <span class="p">([</span><span class="n">visitedNodes</span> <span class="nl">containsObject:</span><span class="n">adjacentNode</span><span class="p">])</span> <span class="k">continue</span><span class="p">;</span>
</span><span class='line'>                <span class="kt">BOOL</span> <span class="n">found</span> <span class="o">=</span> <span class="n">depthFirstSearch</span><span class="p">(</span><span class="n">adjacentNode</span><span class="p">,</span> <span class="n">word</span><span class="p">,</span> <span class="n">depth</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">visitedNodes</span><span class="p">);</span>
</span><span class='line'>                <span class="k">if</span> <span class="p">(</span><span class="n">found</span><span class="p">)</span> <span class="k">return</span> <span class="n">found</span><span class="p">;</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="k">else</span> <span class="k">return</span> <span class="n">YES</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="p">[</span><span class="n">visitedNodes</span> <span class="nl">removeObject:</span><span class="n">node</span><span class="p">];</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">NO</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>And thats it. Two simple functions achieve the objectives of the questions in 30 lines of code. For some interviewers this may be enough as this is considered to be the hard part of the question.</p>

<h2>Complexity</h2>

<p>No interview question is complete without a chat about complexity of the algoritm. The DFS is o(n) on the length of the word searched but generating the graph is going to be o(nm) on the size of the graph. The DFS approach will save the most time if the graph is reused multiple times for many searches once generated.</p>

<p>While I&rsquo;ve been calling this a depth first search its actually more complicated than that.
For starters we have a depth limit, which is the lenght of the word we are searching for in the boggle board. As the size of the graph inc
similar to searching a trie when thingking about time complexity. In a typical depth first search you keep going deeping looking for a value in a final node. In our problem we dont need to progress down a path all the way to the depth</p>

<h2>Going Further</h2>

<p>There are several directions you could take this to make it more fully formed. For example, given a matrix of arrays could we build the graph? Also if were keeping the graph around it might make sense to make a graph object and make the search a method on a graph instance along with a graph generation method on the class. Ive tied it all together in a excerpt you can actually paste and run into an xcode command line app.</p>

<figure class='code'><figcaption><span>main.m &#8220;Github Gist&#8221;</span><a href='http://github.com'>link</a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="cp">#import &lt;Foundation/Foundation.h&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="k">@interface</span> <span class="nc">Node</span> : <span class="nc">NSObject</span>
</span><span class='line'><span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">strong</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span> <span class="n">letter</span><span class="p">;</span>
</span><span class='line'><span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">strong</span><span class="p">)</span> <span class="n">NSMutableSet</span> <span class="o">*</span> <span class="n">adjacentNodes</span><span class="p">;</span>
</span><span class='line'><span class="k">@end</span>
</span><span class='line'>
</span><span class='line'><span class="k">@implementation</span> <span class="nc">Node</span>
</span><span class='line'><span class="k">-</span><span class="p">(</span><span class="n">NSMutableSet</span> <span class="o">*</span><span class="p">)</span><span class="nf">adjacentNodes</span><span class="p">{</span>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="n">_adjacentNodes</span><span class="p">){</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">_adjacentNodes</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="n">_adjacentNodes</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSMutableSet</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">_adjacentNodes</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">@end</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="k">@interface</span> <span class="nc">Graph</span> : <span class="nc">NSObject</span>
</span><span class='line'><span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">strong</span><span class="p">)</span> <span class="n">NSSet</span> <span class="o">*</span> <span class="n">nodes</span><span class="p">;</span>
</span><span class='line'><span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">strong</span><span class="p">)</span> <span class="n">NSDictionary</span> <span class="o">*</span> <span class="n">lookupDictionary</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">+</span><span class="p">(</span><span class="n">instancetype</span><span class="p">)</span><span class="nf">graphForBoggleBoard:</span><span class="p">(</span><span class="n">NSArray</span> <span class="o">*</span><span class="p">)</span><span class="nv">board</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">-</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">searchForWord:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">word</span><span class="p">;</span>
</span><span class='line'><span class="k">@end</span>
</span><span class='line'>
</span><span class='line'><span class="k">@implementation</span> <span class="nc">Graph</span>
</span><span class='line'>
</span><span class='line'><span class="k">+</span><span class="p">(</span><span class="n">instancetype</span><span class="p">)</span><span class="nf">graphForBoggleBoard:</span><span class="p">(</span><span class="n">NSArray</span> <span class="o">*</span><span class="p">)</span><span class="nv">board</span><span class="p">{</span>
</span><span class='line'>    <span class="n">NSMutableSet</span> <span class="o">*</span> <span class="n">nodes</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSMutableSet</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'>    <span class="n">NSMutableDictionary</span> <span class="o">*</span> <span class="n">dictionary</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableDictionary</span> <span class="n">dictionary</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">NSMutableArray</span> <span class="o">*</span> <span class="n">nodeBoard</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSMutableArray</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithCapacity:</span><span class="n">board</span><span class="p">.</span><span class="n">count</span><span class="p">];</span>
</span><span class='line'>    <span class="k">for</span> <span class="p">(</span><span class="n">NSArray</span> <span class="o">*</span> <span class="n">row</span> <span class="k">in</span> <span class="n">board</span><span class="p">){</span>
</span><span class='line'>        <span class="n">NSMutableArray</span> <span class="o">*</span> <span class="n">nodeRow</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSMutableArray</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithCapacity:</span><span class="n">row</span><span class="p">.</span><span class="n">count</span><span class="p">];</span>
</span><span class='line'>        <span class="k">for</span> <span class="p">(</span><span class="n">NSString</span> <span class="o">*</span> <span class="n">letter</span> <span class="k">in</span> <span class="n">row</span><span class="p">){</span>
</span><span class='line'>            <span class="n">Node</span> <span class="o">*</span> <span class="n">node</span> <span class="o">=</span> <span class="p">[[</span><span class="n">Node</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'>            <span class="n">node</span><span class="p">.</span><span class="n">letter</span> <span class="o">=</span> <span class="n">letter</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>            <span class="p">[</span><span class="n">nodeRow</span> <span class="nl">addObject:</span><span class="n">node</span><span class="p">];</span>
</span><span class='line'>            <span class="p">[</span><span class="n">nodes</span> <span class="nl">addObject:</span><span class="n">node</span><span class="p">];</span>
</span><span class='line'>            <span class="k">if</span> <span class="p">(</span><span class="n">dictionary</span><span class="p">[</span><span class="n">node</span><span class="p">.</span><span class="n">letter</span><span class="p">]){</span>
</span><span class='line'>                <span class="p">[</span><span class="n">dictionary</span><span class="p">[</span><span class="n">node</span><span class="p">.</span><span class="n">letter</span><span class="p">]</span> <span class="nl">addObject:</span><span class="n">node</span><span class="p">];</span>
</span><span class='line'>            <span class="p">}</span><span class="k">else</span><span class="p">{</span>
</span><span class='line'>                <span class="n">dictionary</span><span class="p">[</span><span class="n">node</span><span class="p">.</span><span class="n">letter</span><span class="p">]</span> <span class="o">=</span> <span class="err">@</span><span class="p">[</span><span class="n">node</span><span class="p">].</span><span class="n">mutableCopy</span><span class="p">;</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="p">[</span><span class="n">nodeBoard</span> <span class="nl">addObject:</span><span class="n">nodeRow</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>    <span class="n">NSArray</span> <span class="o">*</span> <span class="n">previousRow</span> <span class="o">=</span> <span class="nb">nil</span><span class="p">;</span>
</span><span class='line'>    <span class="k">for</span> <span class="p">(</span><span class="n">NSInteger</span> <span class="n">row</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">row</span> <span class="o">&lt;</span> <span class="n">nodeBoard</span><span class="p">.</span><span class="n">count</span><span class="p">;</span> <span class="n">row</span><span class="o">++</span><span class="p">){</span>
</span><span class='line'>        <span class="n">NSArray</span> <span class="o">*</span> <span class="n">nodeRow</span> <span class="o">=</span> <span class="n">nodeBoard</span><span class="p">[</span><span class="n">row</span><span class="p">];</span>
</span><span class='line'>        <span class="k">for</span> <span class="p">(</span><span class="n">NSInteger</span> <span class="n">col</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">col</span> <span class="o">&lt;</span> <span class="n">nodeRow</span><span class="p">.</span><span class="n">count</span><span class="p">;</span> <span class="n">col</span> <span class="o">++</span><span class="p">){</span>
</span><span class='line'>            <span class="n">Node</span> <span class="o">*</span> <span class="n">currentNode</span> <span class="o">=</span> <span class="n">nodeBoard</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">];</span>
</span><span class='line'>            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">col</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">col</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
</span><span class='line'>                <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="n">nodeRow</span><span class="p">.</span><span class="n">count</span><span class="p">)</span>
</span><span class='line'>                    <span class="k">continue</span><span class="p">;</span>
</span><span class='line'>                <span class="n">Node</span> <span class="o">*</span> <span class="n">node</span> <span class="o">=</span> <span class="n">previousRow</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span><span class='line'>                <span class="k">if</span> <span class="p">(</span><span class="n">node</span><span class="p">){</span>
</span><span class='line'>                    <span class="p">[</span><span class="n">currentNode</span><span class="p">.</span><span class="n">adjacentNodes</span> <span class="nl">addObject:</span><span class="n">node</span><span class="p">];</span>
</span><span class='line'>                    <span class="p">[</span><span class="n">node</span><span class="p">.</span><span class="n">adjacentNodes</span> <span class="nl">addObject:</span><span class="n">currentNode</span><span class="p">];</span>
</span><span class='line'>                <span class="p">}</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>            <span class="k">if</span> <span class="p">(</span><span class="n">col</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">){</span>
</span><span class='line'>                <span class="n">Node</span> <span class="o">*</span> <span class="n">node</span> <span class="o">=</span> <span class="n">nodeBoard</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span><span class='line'>                <span class="p">[</span><span class="n">currentNode</span><span class="p">.</span><span class="n">adjacentNodes</span> <span class="nl">addObject:</span><span class="n">node</span><span class="p">];</span>
</span><span class='line'>                <span class="p">[</span><span class="n">node</span><span class="p">.</span><span class="n">adjacentNodes</span> <span class="nl">addObject:</span><span class="n">currentNode</span><span class="p">];</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="n">previousRow</span> <span class="o">=</span> <span class="n">nodeRow</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>    <span class="n">Graph</span> <span class="o">*</span> <span class="n">graph</span> <span class="o">=</span> <span class="p">[[</span><span class="n">Graph</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'>    <span class="n">graph</span><span class="p">.</span><span class="n">lookupDictionary</span> <span class="o">=</span> <span class="n">dictionary</span><span class="p">;</span>
</span><span class='line'>    <span class="n">graph</span><span class="p">.</span><span class="n">nodes</span> <span class="o">=</span> <span class="n">nodes</span><span class="p">;</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">graph</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">BOOL</span> <span class="nf">depthFirstSearch</span><span class="p">(</span><span class="n">Node</span> <span class="o">*</span> <span class="n">node</span><span class="p">,</span> <span class="n">NSString</span> <span class="o">*</span> <span class="n">word</span><span class="p">,</span> <span class="n">NSInteger</span> <span class="n">depth</span><span class="p">,</span> <span class="n">NSMutableSet</span> <span class="o">*</span> <span class="n">visitedNodes</span><span class="p">){</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">unichar</span> <span class="n">nodeLetter</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span><span class="p">.</span><span class="n">letter</span> <span class="nl">characterAtIndex:</span><span class="mi">0</span><span class="p">];</span>
</span><span class='line'>    <span class="n">unichar</span> <span class="n">wordLetter</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span> <span class="nl">characterAtIndex:</span><span class="n">depth</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="p">[</span><span class="n">visitedNodes</span> <span class="nl">addObject:</span><span class="n">node</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">nodeLetter</span> <span class="o">==</span> <span class="n">wordLetter</span><span class="p">){</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="n">depth</span> <span class="o">&lt;</span> <span class="n">word</span><span class="p">.</span><span class="n">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">for</span> <span class="p">(</span><span class="n">Node</span> <span class="o">*</span> <span class="n">adjacentNode</span> <span class="k">in</span> <span class="n">node</span><span class="p">.</span><span class="n">adjacentNodes</span><span class="p">){</span>
</span><span class='line'>                <span class="k">if</span> <span class="p">([</span><span class="n">visitedNodes</span> <span class="nl">containsObject:</span><span class="n">adjacentNode</span><span class="p">])</span> <span class="k">continue</span><span class="p">;</span>
</span><span class='line'>                <span class="kt">BOOL</span> <span class="n">found</span> <span class="o">=</span> <span class="n">depthFirstSearch</span><span class="p">(</span><span class="n">adjacentNode</span><span class="p">,</span> <span class="n">word</span><span class="p">,</span> <span class="n">depth</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">visitedNodes</span><span class="p">);</span>
</span><span class='line'>                <span class="k">if</span> <span class="p">(</span><span class="n">found</span><span class="p">)</span> <span class="k">return</span> <span class="n">found</span><span class="p">;</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="k">else</span> <span class="k">return</span> <span class="n">YES</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="p">[</span><span class="n">visitedNodes</span> <span class="nl">removeObject:</span><span class="n">node</span><span class="p">];</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">NO</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">-</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">searchForWord:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">word</span><span class="p">{</span>
</span><span class='line'>    <span class="n">NSString</span> <span class="o">*</span> <span class="n">firstLetter</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSString</span> <span class="nl">stringWithFormat:</span><span class="s">@&quot;%c&quot;</span><span class="p">,[</span><span class="n">word</span> <span class="nl">characterAtIndex:</span><span class="mi">0</span><span class="p">]];</span>
</span><span class='line'>    <span class="n">NSSet</span> <span class="o">*</span> <span class="n">firstNodes</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">lookupDictionary</span><span class="p">[</span><span class="n">firstLetter</span><span class="p">];</span>
</span><span class='line'>    <span class="k">for</span> <span class="p">(</span><span class="n">Node</span> <span class="o">*</span> <span class="n">node</span> <span class="k">in</span> <span class="n">firstNodes</span><span class="p">){</span>
</span><span class='line'>        <span class="n">NSMutableSet</span> <span class="o">*</span> <span class="n">visitedNodes</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSMutableSet</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithCapacity:</span><span class="n">word</span><span class="p">.</span><span class="n">length</span><span class="p">];</span>
</span><span class='line'>        <span class="kt">BOOL</span> <span class="n">found</span> <span class="o">=</span> <span class="n">depthFirstSearch</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">word</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">visitedNodes</span><span class="p">);</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="n">found</span><span class="p">)</span> <span class="k">return</span> <span class="n">found</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="n">NO</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">@end</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>
</span><span class='line'>    <span class="err">@</span><span class="n">autoreleasepool</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">NSArray</span> <span class="o">*</span> <span class="n">boggleBoard</span> <span class="o">=</span> <span class="err">@</span><span class="p">[</span>
</span><span class='line'>                                  <span class="err">@</span><span class="p">[</span><span class="s">@&quot;a&quot;</span><span class="p">,</span> <span class="s">@&quot;b&quot;</span><span class="p">,</span> <span class="s">@&quot;c&quot;</span><span class="p">],</span>
</span><span class='line'>                                  <span class="err">@</span><span class="p">[</span><span class="s">@&quot;d&quot;</span><span class="p">,</span> <span class="s">@&quot;d&quot;</span><span class="p">,</span> <span class="s">@&quot;h&quot;</span><span class="p">],</span>
</span><span class='line'>                                  <span class="err">@</span><span class="p">[</span><span class="s">@&quot;e&quot;</span><span class="p">,</span> <span class="s">@&quot;i&quot;</span><span class="p">,</span> <span class="s">@&quot;u&quot;</span><span class="p">]</span>
</span><span class='line'>                                  <span class="p">];</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">Graph</span> <span class="o">*</span> <span class="n">graph</span> <span class="o">=</span> <span class="p">[</span><span class="n">Graph</span> <span class="nl">graphForBoggleBoard:</span><span class="n">boggleBoard</span><span class="p">];</span>
</span><span class='line'>        <span class="n">NSLog</span> <span class="p">(</span><span class="s">@&quot;Word %@&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">graph</span> <span class="nl">searchForWord:</span><span class="s">@&quot;chuddd&quot;</span><span class="p">]</span> <span class="o">?</span> <span class="s">@&quot;exists&quot;</span> <span class="o">:</span> <span class="s">@&quot;doesnt exist&quot;</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/06/25/the-boggle-board/">The Boggle Board Question</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/joelparsons">@joelparsons</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'joelparsons',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Joel Parsons -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
